<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<pm:header title="Urlaubsübersicht"></pm:header>
	<pm:content>
		<h:form>
			<ui:repeat id="repeat" var="antrag"
				value="#{urlaubsUebersichtBean.urlaubsantrags}">
				<ui:repeat var="zeitraum" value="#{antrag.zeitraums}">
					<p:panel
						header="#{zeitraum.getBeginnAsString()} bis #{zeitraum.getEndeAsString()} | #{zeitraum.getAnzahltage()} Urlaubstag/e"
						value="#{antrag.zeitraums}" var="zeitraum">
						<pm:field>
							<p:panelGrid columns="2">
								<p:graphicImage id="status"
									value="#{antrag.status == 'OFFEN' ? '/resources/images/clock.png' : antrag.status == 'GENEHMIGT' ? '/resources/images/like.png' : antrag.status == 'ABGELEHNT' ? '/resources/images/dislike.png' : ''}"
									height="60px" width="60px"></p:graphicImage>

								<p:tooltip id="toolTipFade" for="status"
									style="margin-top: 20px; width: 90px; text-align: center;"
									value="#{antrag.status}" />
							</p:panelGrid>
						</pm:field>
						<pm:field>
							<p:commandButton value="Bearbeiten"
								outcome="pm:second?transition=slide" icon="ui-icon-edit"
								action="#{urlaubsUebersichtBean.editUrlaubsantrag(antrag)}"
								style="width:170px">
							</p:commandButton>
						</pm:field>
						<pm:field>
							<p:commandButton value="Löschen" icon="ui-icon-delete"
								global="true" update="growl"
								action="#{urlaubsUebersichtBean.deleteUrlaubsantrag(antrag)}"
								style="width:170px">
							</p:commandButton>
						</pm:field>
						<p:growl id="growl" showDetail="true" sticky="true" />



					</p:panel>
					<p:spacer></p:spacer>
				</ui:repeat>
			</ui:repeat>
			<pm:page id="second" swatch="a">
				<ui:include src="urlaubsantrag.xhtml"></ui:include>
			</pm:page>
			<p:button value="Zurück" outcome="pm:first?transition=slide"></p:button>
		</h:form>
	</pm:content>
	<ui:include src="footer.xhtml"></ui:include>
</ui:composition>